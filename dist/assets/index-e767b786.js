import{I as j,J as z,o as s,e as o,m as i,n as p,f as c,ah as D,b as A,c as y,r as k,K as F,L as M,ai as R,M as E,O as T,P as G,G as J,l as u,g as h,j as K,a9 as q,aj as H,h as Q,ak as U}from"./index-1a998e25.js";import{z as W}from"./raf-c01wDYCo-7b601679.js";import{u as X}from"./common-BH7uB7Cn-929e3022.js";const Y=z("search2"),Z=c("path",{d:"M512 1024C228.43 1024 0 795.57 0 512S228.43 0 512 0s512 228.43 512 512-228.43 512-512 512zm0-945.23C273.067 78.77 78.77 273.066 78.77 512S273.066 945.23 512 945.23 945.23 750.934 945.23 512 750.934 78.77 512 78.77zM984.615 1024c-10.502 0-21.005-2.626-28.882-10.503L824.451 882.215c-15.754-15.753-15.754-39.384 0-55.138s39.385-15.754 55.139 0l131.282 131.282c15.754 15.754 15.754 39.385 0 55.138-5.251 7.877-15.754 10.503-26.257 10.503z",fill:"currentColor","fill-opacity":"0.9"},null,-1),x=[Z];function ee(e,a,l,f,d,b){return s(),o("svg",{class:i(e.classes),style:p(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},x,6)}const ve=j(Y,[["render",ee]]);var ae=Object.defineProperty,te=Object.defineProperties,re=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,C=(e,a,l)=>a in e?ae(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l,m=(e,a)=>{for(var l in a||(a={}))le.call(a,l)&&C(e,l,a[l]);if(w)for(var l of w(a))ne.call(a,l)&&C(e,l,a[l]);return e},se=(e,a)=>te(e,re(a));const{create:oe}=T("searchbar"),ue="NutSearchbar",ie=oe({props:{modelValue:{type:[String,Number],default:""},inputType:{type:String,default:"text"},label:{type:String,default:""},shape:{type:String,default:"round"},maxLength:{type:[String,Number],default:"9999"},placeholder:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Object,default:()=>W},background:{type:String,default:""},inputBackground:{type:String,default:""},focusStyle:{type:Object,default:()=>({})},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inputAlign:{type:String,default:"left"},safeAreaInsetBottom:{type:Boolean,default:!1}},emits:["change","update:modelValue","blur","focus","clear","search","clickInput","clickLeftIcon","clickRightIcon"],setup(e,{emit:a}){const l=X(D(e,"disabled")),f=G(ue),d=A({active:!1}),b=y(()=>({background:e.background})),r=y(()=>({background:e.inputBackground})),I=t=>{let n=t.target.value;e.maxLength&&n.length>Number(e.maxLength)&&(n=n.slice(0,Number(e.maxLength))),a("update:modelValue",n,t),a("change",n,t)},g=k({}),B=t=>{let n=t.target.value;d.active=!0,g.value=e.focusStyle,a("focus",n,t)},$=t=>{setTimeout(()=>{d.active=!1},0);let n=t.target.value;e.maxLength&&n.length>Number(e.maxLength)&&(n=n.slice(0,Number(e.maxLength))),g.value={},a("blur",n,t)},_=t=>{a("update:modelValue","",t),a("change","",t),a("clear","")},O=()=>{a("search",e.modelValue)},L=t=>{a("clickInput",t)},P=t=>{a("clickLeftIcon",e.modelValue,t)},V=t=>{a("clickRightIcon",e.modelValue,t)},N=y(()=>({textAlign:e.inputAlign})),v=k(null);return F(()=>{e.autofocus&&v.value.focus()}),se(m({renderIcon:R,inputsearch:v},M(d)),{valueChange:I,valueFocus:B,valueBlur:$,handleClear:_,handleSubmit:O,searchbarStyle:b,inputSearchbarStyle:r,focusCss:g,translate:f,clickInput:L,leftIconClick:P,rightIconClick:V,styleSearchbar:N,disabled:l})}}),ce={key:0,class:"nut-searchbar__search-label"},de={key:1,class:"nut-searchbar__search-icon nut-searchbar__left-search-icon"},he=["type","maxlength","placeholder","value","disabled","readonly"],pe={key:1,class:"nut-searchbar__search-icon nut-searchbar__iptright-search-icon"},fe={key:2,class:"nut-searchbar__search-icon nut-searchbar__right-search-icon"};function be(e,a,l,f,d,b){return s(),o("view",{class:i(["nut-searchbar",{"safe-area-inset-bottom":e.safeAreaInsetBottom}]),style:p(e.searchbarStyle)},[e.label?(s(),o("span",ce,J(e.label),1)):u("",!0),e.$slots.leftout?(s(),o("view",de,[h(e.$slots,"leftout")])):u("",!0),c("view",{class:i(["nut-searchbar__search-input",e.shape]),style:p(m(m({},e.inputSearchbarStyle),e.focusCss))},[e.$slots.leftin?(s(),o("view",{key:0,class:"nut-searchbar__search-icon nut-searchbar__iptleft-search-icon",onClick:a[0]||(a[0]=(...r)=>e.leftIconClick&&e.leftIconClick(...r))},[h(e.$slots,"leftin")])):u("",!0),c("view",{class:i(["nut-searchbar__input-inner",e.$slots.rightin&&"nut-searchbar__input-inner-absolute"])},[c("form",{class:"nut-searchbar__input-form",action:"#",onSubmit:a[5]||(a[5]=K((...r)=>e.handleSubmit&&e.handleSubmit(...r),["prevent"]))},[c("input",{ref:"inputsearch",class:i(["nut-searchbar__input-bar",e.clearable&&"nut-searchbar__input-bar_clear"]),type:e.inputType,maxlength:e.maxLength,placeholder:e.placeholder||e.translate("placeholder"),value:e.modelValue,disabled:e.disabled,readonly:e.readonly,style:p(e.styleSearchbar),onClick:a[1]||(a[1]=(...r)=>e.clickInput&&e.clickInput(...r)),onInput:a[2]||(a[2]=(...r)=>e.valueChange&&e.valueChange(...r)),onFocus:a[3]||(a[3]=(...r)=>e.valueFocus&&e.valueFocus(...r)),onBlur:a[4]||(a[4]=(...r)=>e.valueBlur&&e.valueBlur(...r))},null,46,he)],32)],2),c("view",{class:i(["nut-searchbar__input-inner-icon",e.$slots.rightin&&"nut-searchbar__input-inner-icon-absolute"])},[e.clearable?q((s(),o("view",{key:0,class:"nut-searchbar__search-icon nut-searchbar__input-clear",onClick:a[6]||(a[6]=(...r)=>e.handleClear&&e.handleClear(...r))},[e.$slots["clear-icon"]?h(e.$slots,"clear-icon",{key:0}):(s(),Q(U(e.renderIcon(e.clearIcon)),{key:1}))],512)),[[H,String(e.modelValue).length>0]]):u("",!0),e.$slots.rightin?(s(),o("view",pe,[h(e.$slots,"rightin")])):u("",!0)],2)],6),e.$slots.rightout?(s(),o("view",fe,[h(e.$slots,"rightout")])):u("",!0)],6)}const Se=E(ie,[["render",be]]);export{ve as C,Se as i};
