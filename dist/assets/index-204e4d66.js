import{K as v,L as z,o as g,d as w,l as d,n as y,e as o,c as $,w as B,_ as P,b as A,h as c,f as N,s as h}from"./index-394e3bcc.js";import{p as I}from"./pxCheck-OnXlN1NC-3938f682.js";import{w as M}from"./Plus-c98d7022.js";const F=z("minus"),W=o("path",{d:"M299.52 460.8h409.6c28.16 0 51.2 23.04 51.2 51.2s-23.04 51.2-51.2 51.2h-409.6c-28.16 0-51.2-23.04-51.2-51.2s23.04-51.2 51.2-51.2z",fill:"currentColor","fill-opacity":"0.9"},null,-1),p=[W];function D(e,n,s,b,f,i){return g(),w("svg",{class:d(e.classes),style:y(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},p,6)}const E=v(F,[["render",D]]),{componentName:K,create:L}=A("input-number"),U=L({components:{Minus:E,Plus:M},props:{modelValue:{type:[Number,String],default:0},inputWidth:{type:[Number,String],default:""},buttonSize:{type:[Number,String],default:""},min:{type:[Number,String],default:1},max:{type:[Number,String],default:9999},step:{type:[Number,String],default:1},decimalPlaces:{type:[Number,String],default:0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","change","blur","focus","reduce","add","overlimit"],setup(e,{emit:n}){const s=$(()=>{const u=K;return{[u]:!0,[`${u}--disabled`]:e.disabled}}),b=u=>Number(u).toFixed(Number(e.decimalPlaces)),f=u=>{const l=u.target;n("update:modelValue",l.value,u),n("change",l.value,u)},i=(u,l)=>{let a=b(u);n("update:modelValue",a,l),Number(e.modelValue)!==Number(a)&&n("change",a,l)},r=(u=Number(e.modelValue))=>u<Number(e.max)&&!e.disabled,m=(u=Number(e.modelValue))=>u>Number(e.min)&&!e.disabled,t=u=>{if(e.disabled)return;n("reduce",u);let l=Number(e.modelValue)-Number(e.step);m()&&l>=Number(e.min)?i(l,u):(i(Number(e.min),u),n("overlimit",u,"reduce"))},C=u=>{if(e.disabled)return;n("add",u);let l=Number(e.modelValue)+Number(e.step);r()&&l<=Number(e.max)?i(l,u):(i(Number(e.max),u),n("overlimit",u,"add"))},S=u=>{e.disabled||e.readonly||n("focus",u)},V=u=>{if(e.disabled||e.readonly)return;let a=u.target.valueAsNumber;a<Number(e.min)?a=Number(e.min):a>Number(e.max)&&(a=Number(e.max)),i(a,u),n("blur",u)},k=u=>{let l=Number(u);return l<Number(e.min)?l=Number(e.min):l>Number(e.max)&&(l=Number(e.max)),l};return B(()=>[e.max,e.min],()=>{Number(e.min)>Number(e.max)&&console.warn("[NutUI] <InputNumber>","props.max < props.min");const u=k(e.modelValue);u!==Number(e.modelValue)&&i(u,{})}),{classes:s,change:f,blur:V,focus:S,add:C,addAllow:r,reduce:t,reduceAllow:m,pxCheck:I}}}),j=["min","max","disabled","readonly","value"];function q(e,n,s,b,f,i){const r=c("Minus"),m=c("Plus");return g(),w("view",{class:d(e.classes)},[o("view",{class:d(["nut-input-number__icon nut-input-number__left",{"nut-input-number__icon--disabled":!e.reduceAllow()}]),onClick:n[0]||(n[0]=(...t)=>e.reduce&&e.reduce(...t))},[N(e.$slots,"left-icon",{},()=>[h(r,{width:e.pxCheck(e.buttonSize),height:e.pxCheck(e.buttonSize)},null,8,["width","height"])])],2),o("input",{type:"number",min:e.min,max:e.max,style:y({width:e.pxCheck(e.inputWidth),height:e.pxCheck(e.buttonSize)}),disabled:e.disabled,readonly:e.readonly,value:e.modelValue,onInput:n[1]||(n[1]=(...t)=>e.change&&e.change(...t)),onBlur:n[2]||(n[2]=(...t)=>e.blur&&e.blur(...t)),onFocus:n[3]||(n[3]=(...t)=>e.focus&&e.focus(...t))},null,44,j),o("view",{class:d(["nut-input-number__icon nut-input-number__right",{"nut-input-number__icon--disabled":!e.addAllow()}]),onClick:n[4]||(n[4]=(...t)=>e.add&&e.add(...t))},[N(e.$slots,"right-icon",{},()=>[h(m,{width:e.pxCheck(e.buttonSize),height:e.pxCheck(e.buttonSize)},null,8,["width","height"])])],2)],2)}const O=P(U,[["render",q]]);export{O as N};
