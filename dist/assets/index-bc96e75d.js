import{J as N,K as j,o as s,d as o,l as i,n as p,e as c,a as z,c as y,r as S,Q as A,L as D,aj as M,_ as F,b as E,M as R,H as T,k as u,f as h,G,ab as H,ak as J,j as K,al as Q}from"./index-575a5de3.js";import{z as q}from"./raf-MQjoO-Ag-e83e5ab0.js";const U=j("search2"),W=c("path",{d:"M512 1024C228.43 1024 0 795.57 0 512S228.43 0 512 0s512 228.43 512 512-228.43 512-512 512zm0-945.23C273.067 78.77 78.77 273.066 78.77 512S273.066 945.23 512 945.23 945.23 750.934 945.23 512 750.934 78.77 512 78.77zM984.615 1024c-10.502 0-21.005-2.626-28.882-10.503L824.451 882.215c-15.754-15.753-15.754-39.384 0-55.138s39.385-15.754 55.139 0l131.282 131.282c15.754 15.754 15.754 39.385 0 55.138-5.251 7.877-15.754 10.503-26.257 10.503z",fill:"currentColor","fill-opacity":"0.9"},null,-1),X=[W];function Y(e,a,l,d,f,b){return s(),o("svg",{class:i(e.classes),style:p(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},X,6)}const be=N(U,[["render",Y]]);var Z=Object.defineProperty,x=Object.defineProperties,ee=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,C=(e,a,l)=>a in e?Z(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l,m=(e,a)=>{for(var l in a||(a={}))ae.call(a,l)&&C(e,l,a[l]);if(w)for(var l of w(a))te.call(a,l)&&C(e,l,a[l]);return e},re=(e,a)=>x(e,ee(a));const{create:le}=E("searchbar"),ne="NutSearchbar",se=le({props:{modelValue:{type:[String,Number],default:""},inputType:{type:String,default:"text"},label:{type:String,default:""},shape:{type:String,default:"round"},maxLength:{type:[String,Number],default:"9999"},placeholder:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Object,default:()=>q},background:{type:String,default:""},inputBackground:{type:String,default:""},focusStyle:{type:Object,default:()=>({})},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inputAlign:{type:String,default:"left"},safeAreaInsetBottom:{type:Boolean,default:!1}},emits:["change","update:modelValue","blur","focus","clear","search","clickInput","clickLeftIcon","clickRightIcon"],setup(e,{emit:a}){const l=R(ne),d=z({active:!1}),f=y(()=>({background:e.background})),b=y(()=>({background:e.inputBackground})),r=t=>{let n=t.target.value;e.maxLength&&n.length>Number(e.maxLength)&&(n=n.slice(0,Number(e.maxLength))),a("update:modelValue",n,t),a("change",n,t)},g=S({}),I=t=>{let n=t.target.value;d.active=!0,g.value=e.focusStyle,a("focus",n,t)},B=t=>{setTimeout(()=>{d.active=!1},0);let n=t.target.value;e.maxLength&&n.length>Number(e.maxLength)&&(n=n.slice(0,Number(e.maxLength))),g.value={},a("blur",n,t)},$=t=>{a("update:modelValue","",t),a("change","",t),a("clear","")},_=()=>{a("search",e.modelValue)},O=t=>{a("clickInput",t)},L=t=>{a("clickLeftIcon",e.modelValue,t)},P=t=>{a("clickRightIcon",e.modelValue,t)},V=y(()=>({textAlign:e.inputAlign})),v=S(null);return A(()=>{e.autofocus&&v.value.focus()}),re(m({renderIcon:M,inputsearch:v},D(d)),{valueChange:r,valueFocus:I,valueBlur:B,handleClear:$,handleSubmit:_,searchbarStyle:f,inputSearchbarStyle:b,focusCss:g,translate:l,clickInput:O,leftIconClick:L,rightIconClick:P,styleSearchbar:V})}}),oe={key:0,class:"nut-searchbar__search-label"},ue={key:1,class:"nut-searchbar__search-icon nut-searchbar__left-search-icon"},ie=["type","maxlength","placeholder","value","disabled","readonly"],ce={key:1,class:"nut-searchbar__search-icon nut-searchbar__iptright-search-icon"},de={key:2,class:"nut-searchbar__search-icon nut-searchbar__right-search-icon"};function he(e,a,l,d,f,b){return s(),o("view",{class:i(["nut-searchbar",{"safe-area-inset-bottom":e.safeAreaInsetBottom}]),style:p(e.searchbarStyle)},[e.label?(s(),o("span",oe,T(e.label),1)):u("",!0),e.$slots.leftout?(s(),o("view",ue,[h(e.$slots,"leftout")])):u("",!0),c("view",{class:i(["nut-searchbar__search-input",e.shape]),style:p(m(m({},e.inputSearchbarStyle),e.focusCss))},[e.$slots.leftin?(s(),o("view",{key:0,class:"nut-searchbar__search-icon nut-searchbar__iptleft-search-icon",onClick:a[0]||(a[0]=(...r)=>e.leftIconClick&&e.leftIconClick(...r))},[h(e.$slots,"leftin")])):u("",!0),c("view",{class:i(["nut-searchbar__input-inner",e.$slots.rightin&&"nut-searchbar__input-inner-absolute"])},[c("form",{class:"nut-searchbar__input-form",action:"#",onSubmit:a[5]||(a[5]=G((...r)=>e.handleSubmit&&e.handleSubmit(...r),["prevent"]))},[c("input",{ref:"inputsearch",class:i(["nut-searchbar__input-bar",e.clearable&&"nut-searchbar__input-bar_clear"]),type:e.inputType,maxlength:e.maxLength,placeholder:e.placeholder||e.translate("placeholder"),value:e.modelValue,disabled:e.disabled,readonly:e.readonly,style:p(e.styleSearchbar),onClick:a[1]||(a[1]=(...r)=>e.clickInput&&e.clickInput(...r)),onInput:a[2]||(a[2]=(...r)=>e.valueChange&&e.valueChange(...r)),onFocus:a[3]||(a[3]=(...r)=>e.valueFocus&&e.valueFocus(...r)),onBlur:a[4]||(a[4]=(...r)=>e.valueBlur&&e.valueBlur(...r))},null,46,ie)],32)],2),c("view",{class:i(["nut-searchbar__input-inner-icon",e.$slots.rightin&&"nut-searchbar__input-inner-icon-absolute"])},[e.clearable?H((s(),o("view",{key:0,class:"nut-searchbar__search-icon nut-searchbar__input-clear",onClick:a[6]||(a[6]=(...r)=>e.handleClear&&e.handleClear(...r))},[e.$slots["clear-icon"]?h(e.$slots,"clear-icon",{key:0}):(s(),K(Q(e.renderIcon(e.clearIcon)),{key:1}))],512)),[[J,String(e.modelValue).length>0]]):u("",!0),e.$slots.rightin?(s(),o("view",ce,[h(e.$slots,"rightin")])):u("",!0)],2)],6),e.$slots.rightout?(s(),o("view",de,[h(e.$slots,"rightout")])):u("",!0)],6)}const ge=F(se,[["render",he]]);export{be as C,ge as i};
