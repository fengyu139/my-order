import{J as V,K as N,o as s,d as o,l as i,n as d,e as c,a as j,c as g,r as S,N as z,L as A,ah as D,_ as F,b as M,H as E,k as u,f as h,G as R,a9 as T,ai as G,j as H,aj as J}from"./index-9136c8a7.js";import{z as K}from"./raf-729dad54-28ee5fbb.js";const q=N("search2"),Q=c("path",{d:"M512 1024C228.43 1024 0 795.57 0 512S228.43 0 512 0s512 228.43 512 512-228.43 512-512 512zm0-945.23C273.067 78.77 78.77 273.066 78.77 512S273.066 945.23 512 945.23 945.23 750.934 945.23 512 750.934 78.77 512 78.77zM984.615 1024c-10.502 0-21.005-2.626-28.882-10.503L824.451 882.215c-15.754-15.753-15.754-39.384 0-55.138s39.385-15.754 55.139 0l131.282 131.282c15.754 15.754 15.754 39.385 0 55.138-5.251 7.877-15.754 10.503-26.257 10.503z",fill:"currentColor","fill-opacity":"0.9"},null,-1),U=[Q];function W(e,a,n,p,f,b){return s(),o("svg",{class:i(e.classes),style:d(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},U,6)}const be=V(q,[["render",W]]);var X=Object.defineProperty,Y=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,w=(e,a,n)=>a in e?X(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,y=(e,a)=>{for(var n in a||(a={}))x.call(a,n)&&w(e,n,a[n]);if(k)for(var n of k(a))ee.call(a,n)&&w(e,n,a[n]);return e},ae=(e,a)=>Y(e,Z(a));const{create:te,translate:re}=M("searchbar"),ne=te({props:{modelValue:{type:[String,Number],default:""},inputType:{type:String,default:"text"},label:{type:String,default:""},shape:{type:String,default:"round"},maxLength:{type:[String,Number],default:"9999"},placeholder:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Object,default:()=>K},background:{type:String,default:""},inputBackground:{type:String,default:""},focusStyle:{type:Object,default:()=>({})},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inputAlign:{type:String,default:"left"},safeAreaInsetBottom:{type:Boolean,default:!1}},emits:["change","update:modelValue","blur","focus","clear","search","clickInput","clickLeftIcon","clickRightIcon"],setup(e,{emit:a}){const n=j({active:!1}),p=g(()=>({background:e.background})),f=g(()=>({background:e.inputBackground})),b=t=>{let l=t.target.value;e.maxLength&&l.length>Number(e.maxLength)&&(l=l.slice(0,Number(e.maxLength))),a("update:modelValue",l,t),a("change",l,t)},r=S({}),C=t=>{let l=t.target.value;n.active=!0,r.value=e.focusStyle,a("focus",l,t)},I=t=>{setTimeout(()=>{n.active=!1},0);let l=t.target.value;e.maxLength&&l.length>Number(e.maxLength)&&(l=l.slice(0,Number(e.maxLength))),r.value={},a("blur",l,t)},B=t=>{a("update:modelValue","",t),a("change","",t),a("clear","")},$=()=>{a("search",e.modelValue)},_=t=>{a("clickInput",t)},O=t=>{a("clickLeftIcon",e.modelValue,t)},L=t=>{a("clickRightIcon",e.modelValue,t)},P=g(()=>({textAlign:e.inputAlign})),m=S(null);return z(()=>{e.autofocus&&m.value.focus()}),ae(y({renderIcon:D,inputsearch:m},A(n)),{valueChange:b,valueFocus:C,valueBlur:I,handleClear:B,handleSubmit:$,searchbarStyle:p,inputSearchbarStyle:f,focusCss:r,translate:re,clickInput:_,leftIconClick:O,rightIconClick:L,styleSearchbar:P})}}),le={key:0,class:"nut-searchbar__search-label"},se={key:1,class:"nut-searchbar__search-icon nut-searchbar__left-search-icon"},oe=["type","maxlength","placeholder","value","disabled","readonly"],ue={key:1,class:"nut-searchbar__search-icon nut-searchbar__iptright-search-icon"},ie={key:2,class:"nut-searchbar__search-icon nut-searchbar__right-search-icon"};function ce(e,a,n,p,f,b){return s(),o("view",{class:i(["nut-searchbar",{"safe-area-inset-bottom":e.safeAreaInsetBottom}]),style:d(e.searchbarStyle)},[e.label?(s(),o("span",le,E(e.label),1)):u("",!0),e.$slots.leftout?(s(),o("view",se,[h(e.$slots,"leftout")])):u("",!0),c("view",{class:i(["nut-searchbar__search-input",e.shape]),style:d(y(y({},e.inputSearchbarStyle),e.focusCss))},[e.$slots.leftin?(s(),o("view",{key:0,class:"nut-searchbar__search-icon nut-searchbar__iptleft-search-icon",onClick:a[0]||(a[0]=(...r)=>e.leftIconClick&&e.leftIconClick(...r))},[h(e.$slots,"leftin")])):u("",!0),c("view",{class:i(["nut-searchbar__input-inner",e.$slots.rightin&&"nut-searchbar__input-inner-absolute"])},[c("form",{class:"nut-searchbar__input-form",action:"#",onSubmit:a[5]||(a[5]=R((...r)=>e.handleSubmit&&e.handleSubmit(...r),["prevent"]))},[c("input",{ref:"inputsearch",class:i(["nut-searchbar__input-bar",e.clearable&&"nut-searchbar__input-bar_clear"]),type:e.inputType,maxlength:e.maxLength,placeholder:e.placeholder||e.translate("placeholder"),value:e.modelValue,disabled:e.disabled,readonly:e.readonly,style:d(e.styleSearchbar),onClick:a[1]||(a[1]=(...r)=>e.clickInput&&e.clickInput(...r)),onInput:a[2]||(a[2]=(...r)=>e.valueChange&&e.valueChange(...r)),onFocus:a[3]||(a[3]=(...r)=>e.valueFocus&&e.valueFocus(...r)),onBlur:a[4]||(a[4]=(...r)=>e.valueBlur&&e.valueBlur(...r))},null,46,oe)],32)],2),c("view",{class:i(["nut-searchbar__input-inner-icon",e.$slots.rightin&&"nut-searchbar__input-inner-icon-absolute"])},[e.clearable?T((s(),o("view",{key:0,class:"nut-searchbar__search-icon nut-searchbar__input-clear",onClick:a[6]||(a[6]=(...r)=>e.handleClear&&e.handleClear(...r))},[e.$slots["clear-icon"]?h(e.$slots,"clear-icon",{key:0}):(s(),H(J(e.renderIcon(e.clearIcon)),{key:1}))],512)),[[G,String(e.modelValue).length>0]]):u("",!0),e.$slots.rightin?(s(),o("view",ue,[h(e.$slots,"rightin")])):u("",!0)],2)],6),e.$slots.rightout?(s(),o("view",ie,[h(e.$slots,"rightout")])):u("",!0)],6)}const he=F(ne,[["render",ce]]),de=e=>e,ge=de(he);export{be as C,ge as S};
